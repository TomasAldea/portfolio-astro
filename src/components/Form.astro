---
import SectionTitle from "./SectionTitle.astro";
---

<div id="form">
  <div class="section-container">
    <SectionTitle title="Contacto" position="end" />
    <form action="procesar.php" method="POST" class="col">
      <label for="nombre">Nombre:</label>
      <input
        class="font-regular f-20"
        type="text"
        id="nombre"
        name="nombre"
        placeholder="Nombre"
        required
      />
      <br /><br />

      <label for="email">Correo Electr√≥nico:</label>
      <input
        class="font-regular f-20"
        type="email"
        id="email"
        name="email"
        placeholder="Email"
        required
      />
      <br /><br />

      <label for="mensaje">Mensaje:</label>
      <textarea
        class="font-regular f-20"
        id="mensaje"
        name="mensaje"
        rows="4"
        placeholder="Motivo de contacto"
        required></textarea>
      <br /><br />

      <button onclick="sendEmail()" class="button1 font-regular f20" type="submit">Enviar</button>
    </form>
  </div>
</div>

<script is:inline type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script type="text/javascript">

    (function () {
        emailjs.init("9iD__X8bPeR42obVK");
    })();

    var templateParams = {
        from_name: "Manuel",
        to_name: "Tomas",
        message: "Prueba de envio desde Atro",
        reply_to: "Manuel@gmail.com",
    };

    const sendEmail = () => {
        return
        emailjs.send("service_xqn96xi", "template_0hamr8l", templateParams).then(
            function (response) {
                console.log("SUCCESS!", response.status, response.text);
            },
            function (err) {
                console.log("FAILED...", err);
            }
        );
    };

</script>

<style lang="less">
  #form {
    .section-container {
      form {
        align-items: center;
        width: 100%;
        max-width: 80rem;
        margin: 0 auto;
        border: 1px solid #ae2ff6;
        background-color: #281840;
        padding: 5rem;
        border-radius: 0.5rem;
        input,
        textarea {
          background-color: transparent;
          border: 1px solid #ae2ff6;
          border-right: none;
          border-top: none;
          border-left: none;
          &::placeholder {
            vertical-align: bottom;
          }
        }
        *:focus {
          outline: none;
        }
        input:-webkit-autofill,
        input:-webkit-autofill:hover,
        input:-webkit-autofill:focus,
        input:-webkit-autofill:active {
          -webkit-text-fill-color: #717073 !important;
          -webkit-box-shadow: 0 0 0 30px #281840 inset !important;
          outline: none;
        }
        textarea,
        textarea:hover,
        textarea:focus,
        textarea:active {
          -webkit-text-fill-color: #717073 !important;
          -webkit-box-shadow: 0 0 0 30px #281840 inset !important;
          outline: none;
        }
        label {
          visibility: hidden;
        }
        input {
          width: 100%;
        }
        textarea {
          width: 100%;
        }
        .button1 {
          margin-top: 2rem;
          width: fit-content;
          text-decoration: none;
          align-self: end;
          border-radius: 0.375rem;
          border: 0.5px solid #f62f31;
          background: linear-gradient(
            90deg,
            rgba(226, 59, 59, 0.23) 0%,
            rgba(174, 47, 246, 0.23) 100%
          );
          box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
          font-size: 3rem;
          padding: 1rem 2.5rem;
          cursor: pointer;
          &:hover {
            background: #ae2ff6;
            box-shadow: 0px 4px 19px 8px rgba(174, 47, 246, 0.51);
            transition: box-shadow 0.2s ease-in-out;
          }
        }
      }
    }
  }
</style>
